# GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­å®š

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€LIFF Flutter ã‚¢ãƒ—ãƒªã‚’ GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸš€ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®ä»•çµ„ã¿

1. **ãƒˆãƒªã‚¬ãƒ¼**: `main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥æ™‚
2. **ãƒ“ãƒ«ãƒ‰**: Flutter Web ã‚¢ãƒ—ãƒªã®è‡ªå‹•ãƒ“ãƒ«ãƒ‰
3. **ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub Pages ã¸ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

## âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. GitHub Secrets ã®è¨­å®š

ãƒªãƒã‚¸ãƒˆãƒªã«å¿…è¦ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¨­å®šã—ã¾ã™ï¼š

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ã‚¯ã‚»ã‚¹
2. **Settings** â†’ **Secrets and variables** â†’ **Actions**
3. **New repository secret** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ä»¥ä¸‹ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¿½åŠ ï¼š
   - **Name**: `LIFF_ID`
   - **Secret**: ã‚ãªãŸã®LIFF IDï¼ˆä¾‹: `2007733449-eKPDM4bM`ï¼‰

### 2. GitHub Pages ã®æœ‰åŠ¹åŒ–

1. ãƒªãƒã‚¸ãƒˆãƒªã® **Settings** â†’ **Pages** ã«ç§»å‹•
2. **Source** ã§ "**GitHub Actions**" ã‚’é¸æŠ
3. è¨­å®šã‚’ä¿å­˜

### 3. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãé…ç½®ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š

- `.github/workflows/deploy-pages.yml` - GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- `.github/workflows/build.yml` - ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
.github/
  workflows/
    deploy-pages.yml  # GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤
    build.yml         # ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ
web/
  index.html         # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ¸ˆã¿
  manifest.json      # PWAè¨­å®šï¼ˆLINEç”¨ï¼‰
  404.html          # SPAç”¨404ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```

## ğŸŒ ã‚¢ã‚¯ã‚»ã‚¹ URL

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€ä»¥ä¸‹ã®URLã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼š

```
https://knagadou.github.io/liff_flutter/
```

## ğŸ”§ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

### Web ã‚µãƒ¼ãƒãƒ¼ã§ã®èµ·å‹•

```bash
# é–‹ç™ºç”¨ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
flutter run -d web-server --web-port 8080 --dart-define=LIFF_ID=your-liff-id

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ ãƒ“ãƒ«ãƒ‰ï¼ˆGitHub Pagesè¨­å®šï¼‰
flutter build web --base-href /liff_flutter/ --dart-define=LIFF_ID=your-liff-id
```

### VS Code ã§ã®èµ·å‹•

`.vscode/launch.json` ã®è¨­å®šã‚’ä½¿ç”¨ï¼š

- **liff_flutter (development)** - å›ºå®šLIFF IDã§èµ·å‹•
- **liff_flutter (prompt for LIFF_ID)** - LIFF IDã‚’å…¥åŠ›ã—ã¦èµ·å‹•
- **web-server** - Webã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦èµ·å‹•

## ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³ã®ç¢ºèª

1. GitHubãƒªãƒã‚¸ãƒˆãƒªã® **Actions** ã‚¿ãƒ–ã‚’ç¢ºèª
2. æœ€æ–°ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡ŒçŠ¶æ³ã‚’ç¢ºèª
3. ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯ãƒ­ã‚°ã‚’ç¢ºèª

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **LIFF_ID ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒè¨­å®šã•ã‚Œã¦ã„ãªã„**
   - ã‚¨ãƒ©ãƒ¼: `LIFF_ID environment variable is not set`
   - è§£æ±º: GitHub Secrets ã§ `LIFF_ID` ã‚’è¨­å®š

2. **base-href ã®å•é¡Œ**
   - ãƒªã‚½ãƒ¼ã‚¹ãŒ404ã§èª­ã¿è¾¼ã‚ãªã„
   - `--base-href /liff_flutter/` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

3. **GitHub Pages ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ãªã„**
   - ãƒªãƒã‚¸ãƒˆãƒª Settings â†’ Pages ã§ "GitHub Actions" ã‚’é¸æŠ

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§GitHub Pagesè¨­å®šã‚’ãƒ†ã‚¹ãƒˆ
flutter build web --base-href /liff_flutter/ --dart-define=LIFF_ID=test-id

# ãƒ“ãƒ«ãƒ‰çµæœã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã§ç¢ºèª
cd build/web
python -m http.server 8000
# http://localhost:8000 ã§ã‚¢ã‚¯ã‚»ã‚¹
```

## ğŸ”„ ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

- **main** ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼ˆGitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®šã«ã‚ˆã‚‹ï¼‰

## ğŸ“± LIFFè¨­å®š

GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸå¾Œï¼š

1. LINE Developers Console ã§LIFFã‚¢ãƒ—ãƒªã‚’ä½œæˆ
2. **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL** ã‚’è¨­å®š:
   ```
   https://knagadou.github.io/liff_flutter/
   ```
3. **Scope**: `profile` ã¨ `openid` ã‚’é¸æŠ
4. LIFF ID ã‚’ GitHub Secrets ã«è¨­å®š

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- LIFF ID ã¯ GitHub Secrets ã§ç®¡ç†
- ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ã¯æ©Ÿå¯†æƒ…å ±ã‚’å«ã¾ãªã„
- ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹è¨­å®šç®¡ç†
